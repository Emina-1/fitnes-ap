<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Trainer Exercises</title>
    <style>
        body { font-family: sans-serif; margin: 24px; }
        nav a { margin-right: 12px; }
        .card { border:1px solid #ddd; padding:16px; border-radius:8px; margin-top:16px; }
        .row { display:flex; gap:24px; flex-wrap: wrap; }
        .col { flex:1; min-width: 250px; }
        .badge { background:#eee; padding:2px 6px; margin-right:6px; border-radius:4px; display:inline-block; }
    </style>
</head>
<body>
<nav>
    <a href="/trainers">Trainers</a>
    <a href="/exercises">Exercises</a>
    <a href="/schedule">Schedule</a>
</nav>

<h2>Trainer Exercises</h2>

<form th:action="@{/schedule/view}" method="get">
    <label>Trainer:
        <select name="trainerId" required>
            <option th:each="t : ${trainers}" th:value="${t.id}"
                    th:selected="${selectedId} == ${t.id}"
                    th:text="${t.name + ' [' + t.specialty + ', ' + t.experienceYears + ' yrs]'}"></option>
        </select>
    </label>
    &nbsp;&nbsp;
    <button type="submit">View Exercises</button>
</form>

<div class="row" th:if="${trainer != null}">
    <div class="col">
        <div class="card">
            <h3 th:text="'Trainer: ' + ${trainer.name}"></h3>
            <p th:text="'Specialty: ' + ${trainer.specialty}"></p>
            <p th:text="'Experience: ' + ${trainer.experienceYears} + ' years'"></p>
            <h4>Exercises:</h4>
            <div th:if="${trainer.exercises != null}">
                <span th:each="e : ${trainer.exercises}"
                      th:text="${e.name + ' (' + e.muscleGroup + ', ' + e.durationMinutes + ' min, ' + e.difficulty + ')'}"
                      class="badge"></span>
            </div>
            <p th:if="${trainer.exercises == null || #lists.isEmpty(trainer.exercises)}">No exercises assigned.</p>
        </div>
    </div>
</div>

</body>
</html>
